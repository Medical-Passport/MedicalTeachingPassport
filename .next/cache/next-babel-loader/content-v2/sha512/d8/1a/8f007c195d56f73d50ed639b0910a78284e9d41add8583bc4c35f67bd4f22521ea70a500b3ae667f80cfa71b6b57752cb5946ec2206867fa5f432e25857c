{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar d3Scale = require('d3-scale');\n\nvar min = _interopDefault(require('lodash/min'));\n\nvar max = _interopDefault(require('lodash/max'));\n\nvar range = _interopDefault(require('lodash/range'));\n\nvar flattenDepth = _interopDefault(require('lodash/flattenDepth'));\n\nvar d3Shape = require('d3-shape');\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\n_c = React__default;\n\nvar PropTypes = _interopDefault(require('prop-types'));\n\nvar compose = _interopDefault(require('recompose/compose'));\n\nvar withPropsOnChange = _interopDefault(require('recompose/withPropsOnChange'));\n\nvar pure = _interopDefault(require('recompose/pure'));\n\nvar core = require('@nivo/core');\n\nvar legends = require('@nivo/legends');\n\nvar defaultProps = _interopDefault(require('recompose/defaultProps'));\n\nvar reactMotion = require('react-motion');\n\nvar setDisplayName = _interopDefault(require('recompose/setDisplayName'));\n/**\r\n * Generates indexed scale.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<number>} range\r\n * @param {number}         padding\r\n * @returns {Function}\r\n */\n\n\nvar getIndexedScale = function getIndexedScale(data, getIndex, range$$1, padding) {\n  return d3Scale.scaleBand().rangeRound(range$$1).domain(data.map(getIndex)).padding(padding);\n};\n/**\r\n * Generates scale for grouped bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Array.<string>} keys\r\n * @param {number}         _minValue\r\n * @param {number|string}  _maxValue\r\n * @param {Array.<number>} range\r\n * @returns {Function}\r\n */\n\n\nvar getGroupedScale = function getGroupedScale(data, keys, _minValue, _maxValue, range$$1) {\n  var allValues = data.reduce(function (acc, entry) {\n    return [].concat(acc, keys.map(function (k) {\n      return entry[k];\n    }));\n  }, []);\n  var maxValue = _maxValue;\n\n  if (maxValue === 'auto') {\n    maxValue = max(allValues);\n  }\n\n  var minValue = _minValue;\n\n  if (minValue === 'auto') {\n    minValue = min(allValues);\n    if (minValue > 0) minValue = 0;\n  }\n\n  return d3Scale.scaleLinear().rangeRound(range$$1).domain([minValue, maxValue]);\n};\n/**\r\n * Generates x/y scales & bars for vertical grouped bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<string>} keys\r\n * @param {number}         minValue\r\n * @param {number}         maxValue\r\n * @param {boolean}        reverse\r\n * @param {number}         width\r\n * @param {number}         height\r\n * @param {Function}       getColor\r\n * @param {number}         [padding=0]\r\n * @param {number}         [innerPadding=0]\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\n\n\nvar generateVerticalGroupedBars = function generateVerticalGroupedBars(_ref) {\n  var data = _ref.data,\n      getIndex = _ref.getIndex,\n      keys = _ref.keys,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      reverse = _ref.reverse,\n      width = _ref.width,\n      height = _ref.height,\n      getColor = _ref.getColor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === undefined ? 0 : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === undefined ? 0 : _ref$innerPadding;\n  var xScale = getIndexedScale(data, getIndex, [0, width], padding);\n  var yRange = reverse ? [0, height] : [height, 0];\n  var yScale = getGroupedScale(data, keys, minValue, maxValue, yRange);\n  var barWidth = (xScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var yRef = yScale(0);\n\n  var getY = function getY(d) {\n    return d > 0 ? yScale(d) : yRef;\n  };\n\n  var getHeight = function getHeight(d, y) {\n    return d > 0 ? yRef - y : yScale(d) - yRef;\n  };\n\n  if (reverse) {\n    getY = function getY(d) {\n      return d < 0 ? yScale(d) : yRef;\n    };\n\n    getHeight = function getHeight(d, y) {\n      return d < 0 ? yRef - y : yScale(d) - yRef;\n    };\n  }\n\n  var bars = [];\n\n  if (barWidth > 0) {\n    keys.forEach(function (key, i) {\n      range(xScale.domain().length).forEach(function (index) {\n        var x = xScale(getIndex(data[index])) + barWidth * i + innerPadding * i;\n        var y = getY(data[index][key]);\n\n        if (barWidth > 0) {\n          var barData = {\n            id: key,\n            value: data[index][key],\n            index: index,\n            indexValue: getIndex(data[index]),\n            data: data[index]\n          };\n          bars.push({\n            key: key + '.' + barData.indexValue,\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: getHeight(data[index][key], y),\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n/**\r\n * Generates x/y scales & bars for horizontal grouped bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<string>} keys\r\n * @param {number}         minValue\r\n * @param {number}         maxValue\r\n * @param {boolean}        reverse\r\n * @param {number}         width\r\n * @param {number}         height\r\n * @param {Function}       getColor\r\n * @param {number}         [padding=0]\r\n * @param {number}         [innerPadding=0]\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\n\n\nvar generateHorizontalGroupedBars = function generateHorizontalGroupedBars(_ref2) {\n  var data = _ref2.data,\n      getIndex = _ref2.getIndex,\n      keys = _ref2.keys,\n      minValue = _ref2.minValue,\n      maxValue = _ref2.maxValue,\n      reverse = _ref2.reverse,\n      width = _ref2.width,\n      height = _ref2.height,\n      getColor = _ref2.getColor,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === undefined ? 0 : _ref2$padding,\n      _ref2$innerPadding = _ref2.innerPadding,\n      innerPadding = _ref2$innerPadding === undefined ? 0 : _ref2$innerPadding;\n  var xRange = reverse ? [width, 0] : [0, width];\n  var xScale = getGroupedScale(data, keys, minValue, maxValue, xRange);\n  var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\n  var barHeight = (yScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var xRef = xScale(0);\n\n  var getX = function getX(d) {\n    return d > 0 ? xRef : xScale(d);\n  };\n\n  var getWidth = function getWidth(d, x) {\n    return d > 0 ? xScale(d) - xRef : xRef - x;\n  };\n\n  if (reverse) {\n    getX = function getX(d) {\n      return d < 0 ? xRef : xScale(d);\n    };\n\n    getWidth = function getWidth(d, x) {\n      return d < 0 ? xScale(d) - xRef : xRef - x;\n    };\n  }\n\n  var bars = [];\n\n  if (barHeight > 0) {\n    keys.forEach(function (key, i) {\n      range(yScale.domain().length).forEach(function (index) {\n        var x = getX(data[index][key]);\n        var y = yScale(getIndex(data[index])) + barHeight * i + innerPadding * i;\n        var barWidth = getWidth(data[index][key], x);\n        var barData = {\n          id: key,\n          value: data[index][key],\n          index: index,\n          indexValue: getIndex(data[index]),\n          data: data[index]\n        };\n        bars.push({\n          key: key + '.' + barData.indexValue,\n          data: barData,\n          x: x,\n          y: y,\n          width: barWidth,\n          height: barHeight,\n          color: getColor(barData)\n        });\n      });\n    });\n  }\n\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n/**\r\n * Generates x/y scales & bars for grouped bar chart.\r\n *\r\n * @param {Object} options\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\n\n\nvar generateGroupedBars = function generateGroupedBars(options) {\n  return options.layout === 'vertical' ? generateVerticalGroupedBars(options) : generateHorizontalGroupedBars(options);\n};\n/**\r\n * Generates scale for stacked bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {number|string}  _minValue\r\n * @param {number|string}  _maxValue\r\n * @param {Array.<number>} range\r\n * @returns {Function}\r\n */\n\n\nvar getStackedScale = function getStackedScale(data, _minValue, _maxValue, range$$1) {\n  var allValues = flattenDepth(data, 2);\n  var minValue = _minValue;\n\n  if (minValue === 'auto') {\n    minValue = min(allValues);\n  }\n\n  var maxValue = _maxValue;\n\n  if (maxValue === 'auto') {\n    maxValue = max(allValues);\n  }\n\n  return d3Scale.scaleLinear().rangeRound(range$$1).domain([minValue, maxValue]);\n};\n/**\r\n * Generates x/y scales & bars for vertical stacked bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<string>} keys\r\n * @param {number}         minValue\r\n * @param {number}         maxValue\r\n * @param {boolean}        reverse\r\n * @param {number}         width\r\n * @param {number}         height\r\n * @param {Function}       getColor\r\n * @param {number}         [padding=0]\r\n * @param {number}         [innerPadding=0]\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\n\n\nvar generateVerticalStackedBars = function generateVerticalStackedBars(_ref) {\n  var data = _ref.data,\n      getIndex = _ref.getIndex,\n      keys = _ref.keys,\n      minValue = _ref.minValue,\n      maxValue = _ref.maxValue,\n      reverse = _ref.reverse,\n      width = _ref.width,\n      height = _ref.height,\n      getColor = _ref.getColor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === undefined ? 0 : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === undefined ? 0 : _ref$innerPadding;\n  var stackedData = d3Shape.stack().keys(keys).offset(d3Shape.stackOffsetDiverging)(data);\n  var xScale = getIndexedScale(data, getIndex, [0, width], padding);\n  var yRange = reverse ? [0, height] : [height, 0];\n  var yScale = getStackedScale(stackedData, minValue, maxValue, yRange);\n  var bars = [];\n  var barWidth = xScale.bandwidth();\n\n  var getY = function getY(d) {\n    return yScale(d[1]);\n  };\n\n  var getHeight = function getHeight(d, y) {\n    return yScale(d[0]) - y;\n  };\n\n  if (reverse) {\n    getY = function getY(d) {\n      return yScale(d[0]);\n    };\n\n    getHeight = function getHeight(d, y) {\n      return yScale(d[1]) - y;\n    };\n  }\n\n  if (barWidth > 0) {\n    stackedData.forEach(function (stackedDataItem) {\n      xScale.domain().forEach(function (index, i) {\n        var d = stackedDataItem[i];\n        var x = xScale(getIndex(d.data));\n        var y = getY(d);\n        var barHeight = getHeight(d, y);\n\n        if (innerPadding > 0) {\n          y += innerPadding * 0.5;\n          barHeight -= innerPadding;\n        }\n\n        if (barHeight > 0) {\n          var barData = {\n            id: stackedDataItem.key,\n            value: d.data[stackedDataItem.key],\n            index: i,\n            indexValue: index,\n            data: d.data\n          };\n          bars.push({\n            key: stackedDataItem.key + '.' + index,\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n/**\r\n * Generates x/y scales & bars for horizontal stacked bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<string>} keys\r\n * @param {number}         minValue\r\n * @param {number}         maxValue\r\n * @param {boolean}        reverse\r\n * @param {number}         width\r\n * @param {number}         height\r\n * @param {Function}       getColor\r\n * @param {number}         [padding=0]\r\n * @param {number}         [innerPadding=0]\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\n\n\nvar generateHorizontalStackedBars = function generateHorizontalStackedBars(_ref2) {\n  var data = _ref2.data,\n      getIndex = _ref2.getIndex,\n      keys = _ref2.keys,\n      minValue = _ref2.minValue,\n      maxValue = _ref2.maxValue,\n      reverse = _ref2.reverse,\n      width = _ref2.width,\n      height = _ref2.height,\n      getColor = _ref2.getColor,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === undefined ? 0 : _ref2$padding,\n      _ref2$innerPadding = _ref2.innerPadding,\n      innerPadding = _ref2$innerPadding === undefined ? 0 : _ref2$innerPadding;\n  var stackedData = d3Shape.stack().keys(keys).offset(d3Shape.stackOffsetDiverging)(data);\n  var xRange = reverse ? [width, 0] : [0, width];\n  var xScale = getStackedScale(stackedData, minValue, maxValue, xRange);\n  var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\n  var bars = [];\n  var barHeight = yScale.bandwidth();\n\n  var getX = function getX(d) {\n    return xScale(d[0]);\n  };\n\n  var getWidth = function getWidth(d, x) {\n    return xScale(d[1]) - x;\n  };\n\n  if (reverse) {\n    getX = function getX(d) {\n      return xScale(d[1]);\n    };\n\n    getWidth = function getWidth(d, y) {\n      return xScale(d[0]) - y;\n    };\n  }\n\n  if (barHeight > 0) {\n    stackedData.forEach(function (stackedDataItem) {\n      yScale.domain().forEach(function (index, i) {\n        var d = stackedDataItem[i];\n        var y = yScale(getIndex(d.data));\n        var barData = {\n          id: stackedDataItem.key,\n          value: d.data[stackedDataItem.key],\n          index: i,\n          indexValue: index,\n          data: d.data\n        };\n        var x = getX(d);\n        var barWidth = getWidth(d, x);\n\n        if (innerPadding > 0) {\n          x += innerPadding * 0.5;\n          barWidth -= innerPadding;\n        }\n\n        if (barWidth > 0) {\n          bars.push({\n            key: stackedDataItem.key + '.' + index,\n            data: barData,\n            x: x,\n            y: y,\n            width: barWidth,\n            height: barHeight,\n            color: getColor(barData)\n          });\n        }\n      });\n    });\n  }\n\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n/**\r\n * Generates x/y scales & bars for stacked bar chart.\r\n *\r\n * @param {Object} options\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\n\n\nvar generateStackedBars = function generateStackedBars(options) {\n  return options.layout === 'vertical' ? generateVerticalStackedBars(options) : generateHorizontalStackedBars(options);\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar BarItem = function BarItem(_ref) {\n  var data = _ref.data,\n      x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      borderRadius = _ref.borderRadius,\n      color = _ref.color,\n      borderWidth = _ref.borderWidth,\n      borderColor = _ref.borderColor,\n      label = _ref.label,\n      shouldRenderLabel = _ref.shouldRenderLabel,\n      labelColor = _ref.labelColor,\n      showTooltip = _ref.showTooltip,\n      hideTooltip = _ref.hideTooltip,\n      onClick = _ref.onClick,\n      tooltip = _ref.tooltip;\n\n  var handleTooltip = function handleTooltip(e) {\n    return showTooltip(tooltip, e);\n  };\n\n  return React__default.createElement('g', {\n    transform: 'translate(' + x + ', ' + y + ')'\n  }, React__default.createElement('rect', {\n    width: width,\n    height: height,\n    rx: borderRadius,\n    ry: borderRadius,\n    fill: data.fill ? data.fill : color,\n    strokeWidth: borderWidth,\n    stroke: borderColor,\n    onMouseEnter: handleTooltip,\n    onMouseMove: handleTooltip,\n    onMouseLeave: hideTooltip,\n    onClick: onClick\n  }), shouldRenderLabel && React__default.createElement('text', {\n    x: width / 2,\n    y: height / 2,\n    textAnchor: 'middle',\n    alignmentBaseline: 'central',\n    style: {\n      pointerEvents: 'none',\n      fill: labelColor\n    }\n  }, label));\n};\n\n_c2 = BarItem;\nBarItem.propTypes = {\n  data: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    value: PropTypes.number.isRequired,\n    indexValue: PropTypes.string.isRequired\n  }).isRequired,\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  color: PropTypes.string.isRequired,\n  borderRadius: PropTypes.number.isRequired,\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  shouldRenderLabel: PropTypes.bool.isRequired,\n  labelColor: PropTypes.string.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  showTooltip: PropTypes.func.isRequired,\n  hideTooltip: PropTypes.func.isRequired,\n  onClick: PropTypes.func,\n  tooltip: PropTypes.element.isRequired,\n  theme: PropTypes.shape({\n    tooltip: PropTypes.shape({}).isRequired\n  }).isRequired\n};\nvar enhance = compose(withPropsOnChange(['data', 'color', 'onClick'], function (_ref2) {\n  var data = _ref2.data,\n      color = _ref2.color,\n      _onClick = _ref2.onClick;\n  return {\n    onClick: function onClick(event) {\n      return _onClick(_extends({\n        color: color\n      }, data), event);\n    }\n  };\n}), withPropsOnChange(['data', 'color', 'theme', 'tooltip', 'tooltipFormat'], function (_ref3) {\n  var data = _ref3.data,\n      color = _ref3.color,\n      theme = _ref3.theme,\n      tooltip = _ref3.tooltip,\n      tooltipFormat = _ref3.tooltipFormat;\n  return {\n    tooltip: React__default.createElement(core.BasicTooltip, {\n      id: data.id + ' - ' + data.indexValue,\n      value: data.value,\n      enableChip: true,\n      color: color,\n      theme: theme,\n      format: tooltipFormat,\n      renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _extends({\n        color: color\n      }, data)) : null\n    })\n  };\n}), pure);\nvar BarItem$1 = enhance(BarItem);\n_c3 = BarItem$1;\n\nvar BarPropTypes = _extends({\n  // data\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  indexBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  getIndex: PropTypes.func.isRequired,\n  // computed\n  keys: PropTypes.arrayOf(PropTypes.string).isRequired,\n  groupMode: PropTypes.oneOf(['stacked', 'grouped']).isRequired,\n  layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n  reverse: PropTypes.bool.isRequired,\n  minValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  maxValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\n  padding: PropTypes.number.isRequired,\n  innerPadding: PropTypes.number.isRequired,\n  // axes & grid\n  axisTop: PropTypes.object,\n  axisRight: PropTypes.object,\n  axisBottom: PropTypes.object,\n  axisLeft: PropTypes.object,\n  enableGridX: PropTypes.bool.isRequired,\n  enableGridY: PropTypes.bool.isRequired,\n  // customization\n  barComponent: PropTypes.func.isRequired,\n  // labels\n  enableLabel: PropTypes.bool.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  getLabel: PropTypes.func.isRequired,\n  // computed\n  labelSkipWidth: PropTypes.number.isRequired,\n  labelSkipHeight: PropTypes.number.isRequired,\n  labelTextColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  getLabelTextColor: PropTypes.func.isRequired,\n  // computed\n  labelLinkColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  getLabelLinkColor: PropTypes.func.isRequired,\n  // computed\n  // styling\n  borderRadius: PropTypes.number.isRequired,\n  getColor: PropTypes.func.isRequired\n}, core.defsPropTypes, {\n  borderWidth: PropTypes.number.isRequired,\n  borderColor: PropTypes.any.isRequired,\n  getBorderColor: PropTypes.func.isRequired,\n  // interactivity\n  isInteractive: PropTypes.bool,\n  onClick: PropTypes.func.isRequired,\n  tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  tooltip: PropTypes.func,\n  legends: PropTypes.arrayOf(PropTypes.shape(_extends({\n    dataFrom: PropTypes.oneOf(['indexes', 'keys']).isRequired\n  }, legends.LegendPropShape))).isRequired,\n  // canvas specific\n  pixelRatio: PropTypes.number.isRequired\n});\n\nvar BarDefaultProps = {\n  indexBy: 'id',\n  keys: ['value'],\n  groupMode: 'stacked',\n  layout: 'vertical',\n  reverse: false,\n  minValue: 'auto',\n  maxValue: 'auto',\n  padding: 0.1,\n  innerPadding: 0,\n  // axes & grid\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: false,\n  enableGridY: true,\n  // customization\n  barComponent: BarItem$1,\n  // labels\n  enableLabel: true,\n  label: 'value',\n  labelSkipWidth: 0,\n  labelSkipHeight: 0,\n  labelLinkColor: 'theme',\n  labelTextColor: 'theme',\n  defs: [],\n  fill: [],\n  borderRadius: 0,\n  borderWidth: 0,\n  borderColor: 'inherit',\n  // interactivity\n  isInteractive: true,\n  onClick: core.noop,\n  legends: [],\n  // canvas specific\n  pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\n};\n\nvar enhance$1 = function enhance$1(Component) {\n  return compose(defaultProps(BarDefaultProps), core.withTheme(), core.withColors(), core.withDimensions(), core.withMotion(), withPropsOnChange(['indexBy'], function (_ref) {\n    var indexBy = _ref.indexBy;\n    return {\n      getIndex: core.getAccessorFor(indexBy)\n    };\n  }), withPropsOnChange(['labelTextColor'], function (_ref2) {\n    var labelTextColor = _ref2.labelTextColor;\n    return {\n      getLabelTextColor: core.getInheritedColorGenerator(labelTextColor, 'axis.textColor')\n    };\n  }), withPropsOnChange(['labelLinkColor'], function (_ref3) {\n    var labelLinkColor = _ref3.labelLinkColor;\n    return {\n      getLabelLinkColor: core.getInheritedColorGenerator(labelLinkColor, 'axis.tickColor')\n    };\n  }), withPropsOnChange(['label', 'labelFormat'], function (_ref4) {\n    var label = _ref4.label,\n        labelFormat = _ref4.labelFormat;\n    return {\n      getLabel: core.getLabelGenerator(label, labelFormat)\n    };\n  }), withPropsOnChange(['borderColor'], function (_ref5) {\n    var borderColor = _ref5.borderColor;\n    return {\n      getBorderColor: core.getInheritedColorGenerator(borderColor)\n    };\n  }), pure)(Component);\n};\n\nvar barWillEnterHorizontal = function barWillEnterHorizontal(_ref) {\n  var style = _ref.style;\n  return {\n    x: style.x.val,\n    y: style.y.val,\n    width: 0,\n    height: style.height.val\n  };\n};\n\nvar barWillEnterVertical = function barWillEnterVertical(_ref2) {\n  var style = _ref2.style;\n  return {\n    x: style.x.val,\n    y: style.y.val + style.height.val,\n    width: style.width.val,\n    height: 0\n  };\n};\n\nvar barWillLeaveHorizontal = function barWillLeaveHorizontal(springConfig) {\n  return function (_ref3) {\n    var style = _ref3.style;\n    return {\n      x: style.x,\n      y: style.y,\n      width: reactMotion.spring(0, springConfig),\n      height: style.height\n    };\n  };\n};\n\nvar barWillLeaveVertical = function barWillLeaveVertical(springConfig) {\n  return function (_ref4) {\n    var style = _ref4.style;\n    return {\n      x: style.x,\n      y: reactMotion.spring(style.y.val + style.height.val, springConfig),\n      width: style.width,\n      height: reactMotion.spring(0, springConfig)\n    };\n  };\n};\n\nvar Bar = function Bar(_ref5) {\n  var data = _ref5.data,\n      getIndex = _ref5.getIndex,\n      keys = _ref5.keys,\n      groupMode = _ref5.groupMode,\n      layout = _ref5.layout,\n      reverse = _ref5.reverse,\n      minValue = _ref5.minValue,\n      maxValue = _ref5.maxValue,\n      margin = _ref5.margin,\n      width = _ref5.width,\n      height = _ref5.height,\n      outerWidth = _ref5.outerWidth,\n      outerHeight = _ref5.outerHeight,\n      padding = _ref5.padding,\n      innerPadding = _ref5.innerPadding,\n      axisTop = _ref5.axisTop,\n      axisRight = _ref5.axisRight,\n      axisBottom = _ref5.axisBottom,\n      axisLeft = _ref5.axisLeft,\n      enableGridX = _ref5.enableGridX,\n      enableGridY = _ref5.enableGridY,\n      barComponent = _ref5.barComponent,\n      enableLabel = _ref5.enableLabel,\n      getLabel = _ref5.getLabel,\n      labelSkipWidth = _ref5.labelSkipWidth,\n      labelSkipHeight = _ref5.labelSkipHeight,\n      getLabelTextColor = _ref5.getLabelTextColor,\n      markers = _ref5.markers,\n      theme = _ref5.theme,\n      getColor = _ref5.getColor,\n      defs = _ref5.defs,\n      fill = _ref5.fill,\n      borderRadius = _ref5.borderRadius,\n      borderWidth = _ref5.borderWidth,\n      getBorderColor = _ref5.getBorderColor,\n      animate = _ref5.animate,\n      motionStiffness = _ref5.motionStiffness,\n      motionDamping = _ref5.motionDamping,\n      isInteractive = _ref5.isInteractive,\n      tooltipFormat = _ref5.tooltipFormat,\n      tooltip = _ref5.tooltip,\n      onClick = _ref5.onClick,\n      legends$$1 = _ref5.legends;\n  var options = {\n    layout: layout,\n    reverse: reverse,\n    data: data,\n    getIndex: getIndex,\n    keys: keys,\n    minValue: minValue,\n    maxValue: maxValue,\n    width: width,\n    height: height,\n    getColor: getColor,\n    padding: padding,\n    innerPadding: innerPadding\n  };\n  var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n  var motionProps = {\n    animate: animate,\n    motionDamping: motionDamping,\n    motionStiffness: motionStiffness\n  };\n  var springConfig = {\n    damping: motionDamping,\n    stiffness: motionStiffness\n  };\n  var willEnter = layout === 'vertical' ? barWillEnterVertical : barWillEnterHorizontal;\n  var willLeave = layout === 'vertical' ? barWillLeaveVertical(springConfig) : barWillLeaveHorizontal(springConfig);\n\n  var shouldRenderLabel = function shouldRenderLabel(_ref6) {\n    var width = _ref6.width,\n        height = _ref6.height;\n    if (!enableLabel) return false;\n    if (labelSkipWidth > 0 && width < labelSkipWidth) return false;\n    if (labelSkipHeight > 0 && height < labelSkipHeight) return false;\n    return true;\n  };\n\n  var boundDefs = core.bindDefs(defs, result.bars, fill, {\n    dataKey: 'data',\n    targetKey: 'data.fill'\n  });\n  var legendDataForKeys = result.bars.filter(function (bar) {\n    return bar.data.index === 0;\n  }).map(function (bar) {\n    return {\n      label: bar.data.id,\n      fill: bar.data.fill ? bar.data.fill : bar.color\n    };\n  }).reverse();\n  var legendDataForIndexes = result.bars.filter(function (bar) {\n    return bar.data.id === keys[0];\n  }).map(function (bar) {\n    return {\n      label: bar.data.indexValue,\n      fill: bar.data.fill ? bar.data.fill : bar.color\n    };\n  });\n  result.bars = result.bars.filter(function (bar) {\n    return layout === 'vertical' ? bar.height !== 0 : bar.width !== 0;\n  });\n  return React__default.createElement(core.Container, {\n    isInteractive: isInteractive,\n    theme: theme\n  }, function (_ref7) {\n    var showTooltip = _ref7.showTooltip,\n        hideTooltip = _ref7.hideTooltip;\n    var commonProps = {\n      borderRadius: borderRadius,\n      borderWidth: borderWidth,\n      enableLabel: enableLabel,\n      labelSkipWidth: labelSkipWidth,\n      labelSkipHeight: labelSkipHeight,\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      onClick: onClick,\n      theme: theme,\n      tooltipFormat: tooltipFormat,\n      tooltip: tooltip\n    };\n    var bars = void 0;\n\n    if (animate === true) {\n      bars = React__default.createElement(reactMotion.TransitionMotion, {\n        willEnter: willEnter,\n        willLeave: willLeave,\n        styles: result.bars.map(function (bar) {\n          return {\n            key: bar.key,\n            data: bar,\n            style: {\n              x: reactMotion.spring(bar.x, springConfig),\n              y: reactMotion.spring(bar.y, springConfig),\n              width: reactMotion.spring(bar.width, springConfig),\n              height: reactMotion.spring(bar.height, springConfig)\n            }\n          };\n        })\n      }, function (interpolatedStyles) {\n        return React__default.createElement('g', null, interpolatedStyles.map(function (_ref8) {\n          var key = _ref8.key,\n              style = _ref8.style,\n              bar = _ref8.data;\n\n          var baseProps = _extends({}, bar, style);\n\n          return React__default.createElement(barComponent, _extends({\n            key: key\n          }, baseProps, commonProps, {\n            shouldRenderLabel: shouldRenderLabel(baseProps),\n            width: Math.max(style.width, 0),\n            height: Math.max(style.height, 0),\n            label: getLabel(bar.data),\n            labelColor: getLabelTextColor(baseProps, theme),\n            borderColor: getBorderColor(baseProps)\n          }));\n        }));\n      });\n    } else {\n      bars = result.bars.map(function (d) {\n        return React__default.createElement(barComponent, _extends({\n          key: d.key\n        }, d, commonProps, {\n          label: getLabel(d.data),\n          shouldRenderLabel: shouldRenderLabel(d),\n          labelColor: getLabelTextColor(d, theme),\n          borderColor: getBorderColor(d)\n        }));\n      });\n    }\n\n    return React__default.createElement(core.SvgWrapper, {\n      width: outerWidth,\n      height: outerHeight,\n      margin: margin,\n      defs: boundDefs\n    }, React__default.createElement(core.Grid, _extends({\n      theme: theme,\n      width: width,\n      height: height,\n      xScale: enableGridX ? result.xScale : null,\n      yScale: enableGridY ? result.yScale : null\n    }, motionProps)), React__default.createElement(core.Axes, _extends({\n      xScale: result.xScale,\n      yScale: result.yScale,\n      width: width,\n      height: height,\n      theme: theme,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }, motionProps)), bars, React__default.createElement(core.CartesianMarkers, {\n      markers: markers,\n      width: width,\n      height: height,\n      xScale: result.xScale,\n      yScale: result.yScale,\n      theme: theme\n    }), legends$$1.map(function (legend, i) {\n      var legendData = void 0;\n\n      if (legend.dataFrom === 'keys') {\n        legendData = legendDataForKeys;\n      } else if (legend.dataFrom === 'indexes') {\n        legendData = legendDataForIndexes;\n      }\n\n      if (legendData === undefined) return null;\n      return React__default.createElement(legends.BoxLegendSvg, _extends({\n        key: i\n      }, legend, {\n        containerWidth: width,\n        containerHeight: height,\n        data: legendData\n      }));\n    }));\n  });\n};\n\n_c4 = Bar;\nBar.propTypes = BarPropTypes;\nvar Bar$1 = setDisplayName('Bar')(enhance$1(Bar));\n\nvar findNodeUnderCursor = function findNodeUnderCursor(nodes, margin, x, y) {\n  return nodes.find(function (node) {\n    return core.isCursorInRect(node.x + margin.left, node.y + margin.top, node.width, node.height, x, y);\n  });\n};\n\nvar BarCanvas = function (_Component) {\n  inherits(BarCanvas, _Component);\n\n  function BarCanvas() {\n    var _temp, _this, _ret;\n\n    classCallCheck(this, BarCanvas);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.handleMouseHover = function (showTooltip, hideTooltip) {\n      return function (event) {\n        if (!_this.bars) return;\n        var _this$props = _this.props,\n            margin = _this$props.margin,\n            theme = _this$props.theme,\n            tooltip = _this$props.tooltip;\n\n        var _getRelativeCursor = core.getRelativeCursor(_this.surface, event),\n            x = _getRelativeCursor[0],\n            y = _getRelativeCursor[1];\n\n        var bar = findNodeUnderCursor(_this.bars, margin, x, y);\n\n        if (bar !== undefined) {\n          showTooltip(React__default.createElement(core.BasicTooltip, {\n            id: bar.data.id + ' - ' + bar.data.indexValue,\n            value: bar.data.value,\n            enableChip: true,\n            color: bar.color,\n            theme: theme,\n            renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _extends({\n              color: bar.color\n            }, bar.data)) : null\n          }), event);\n        } else {\n          hideTooltip();\n        }\n      };\n    }, _this.handleMouseLeave = function (hideTooltip) {\n      return function () {\n        hideTooltip();\n      };\n    }, _this.handleClick = function (event) {\n      if (!_this.bars) return;\n      var _this$props2 = _this.props,\n          margin = _this$props2.margin,\n          onClick = _this$props2.onClick;\n\n      var _getRelativeCursor2 = core.getRelativeCursor(_this.surface, event),\n          x = _getRelativeCursor2[0],\n          y = _getRelativeCursor2[1];\n\n      var node = findNodeUnderCursor(_this.bars, margin, x, y);\n      if (node !== undefined) onClick(node.data, event);\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  BarCanvas.prototype.componentDidMount = function componentDidMount() {\n    this.ctx = this.surface.getContext('2d');\n    this.draw(this.props);\n  };\n\n  BarCanvas.prototype.shouldComponentUpdate = function shouldComponentUpdate(props) {\n    if (this.props.outerWidth !== props.outerWidth || this.props.outerHeight !== props.outerHeight || this.props.isInteractive !== props.isInteractive || this.props.theme !== props.theme) {\n      return true;\n    } else {\n      this.draw(props);\n      return false;\n    }\n  };\n\n  BarCanvas.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.ctx = this.surface.getContext('2d');\n    this.draw(this.props);\n  };\n\n  BarCanvas.prototype.draw = function draw(props) {\n    var _this2 = this;\n\n    var data = props.data,\n        keys = props.keys,\n        getIndex = props.getIndex,\n        minValue = props.minValue,\n        maxValue = props.maxValue,\n        width = props.width,\n        height = props.height,\n        outerWidth = props.outerWidth,\n        outerHeight = props.outerHeight,\n        pixelRatio = props.pixelRatio,\n        margin = props.margin,\n        layout = props.layout,\n        reverse = props.reverse,\n        groupMode = props.groupMode,\n        padding = props.padding,\n        innerPadding = props.innerPadding,\n        axisTop = props.axisTop,\n        axisRight = props.axisRight,\n        axisBottom = props.axisBottom,\n        axisLeft = props.axisLeft,\n        getColor = props.getColor;\n    this.surface.width = outerWidth * pixelRatio;\n    this.surface.height = outerHeight * pixelRatio;\n    this.ctx.scale(pixelRatio, pixelRatio);\n    var options = {\n      layout: layout,\n      reverse: reverse,\n      data: data,\n      getIndex: getIndex,\n      keys: keys,\n      minValue: minValue,\n      maxValue: maxValue,\n      width: width,\n      height: height,\n      getColor: getColor,\n      padding: padding,\n      innerPadding: innerPadding\n    };\n    var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n    this.bars = result.bars;\n    this.ctx.clearRect(0, 0, outerWidth, outerHeight);\n    this.ctx.translate(margin.left, margin.top);\n    core.renderAxesToCanvas(this.ctx, {\n      xScale: result.xScale,\n      yScale: result.yScale,\n      width: width,\n      height: height,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    });\n    result.bars.filter(function (bar) {\n      return layout === 'vertical' ? bar.height !== 0 : bar.width !== 0;\n    }).forEach(function (_ref) {\n      var x = _ref.x,\n          y = _ref.y,\n          color = _ref.color,\n          width = _ref.width,\n          height = _ref.height;\n      _this2.ctx.fillStyle = color;\n\n      _this2.ctx.fillRect(x, y, width, height);\n    });\n  };\n\n  BarCanvas.prototype.render = function render() {\n    var _this3 = this;\n\n    var _props = this.props,\n        outerWidth = _props.outerWidth,\n        outerHeight = _props.outerHeight,\n        pixelRatio = _props.pixelRatio,\n        isInteractive = _props.isInteractive,\n        theme = _props.theme;\n    return React__default.createElement(core.Container, {\n      isInteractive: isInteractive,\n      theme: theme\n    }, function (_ref2) {\n      var showTooltip = _ref2.showTooltip,\n          hideTooltip = _ref2.hideTooltip;\n      return React__default.createElement('canvas', {\n        ref: function ref(surface) {\n          _this3.surface = surface;\n        },\n        width: outerWidth * pixelRatio,\n        height: outerHeight * pixelRatio,\n        style: {\n          width: outerWidth,\n          height: outerHeight\n        },\n        onMouseEnter: _this3.handleMouseHover(showTooltip, hideTooltip),\n        onMouseMove: _this3.handleMouseHover(showTooltip, hideTooltip),\n        onMouseLeave: _this3.handleMouseLeave(hideTooltip),\n        onClick: _this3.handleClick\n      });\n    });\n  };\n\n  return BarCanvas;\n}(React.Component);\n\nBarCanvas.propTypes = BarPropTypes;\nvar BarCanvas$1 = setDisplayName('BarCanvas')(enhance$1(BarCanvas));\n\nvar ResponsiveBar = function ResponsiveBar(props) {\n  return React__default.createElement(core.ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React__default.createElement(Bar$1, _extends({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\n_c5 = ResponsiveBar;\n\nvar ResponsiveBarCanvas = function ResponsiveBarCanvas(props) {\n  return React__default.createElement(core.ResponsiveWrapper, null, function (_ref) {\n    var width = _ref.width,\n        height = _ref.height;\n    return React__default.createElement(BarCanvas$1, _extends({\n      width: width,\n      height: height\n    }, props));\n  });\n};\n\n_c6 = ResponsiveBarCanvas;\nexports.Bar = Bar$1;\nexports.BarCanvas = BarCanvas$1;\nexports.ResponsiveBar = ResponsiveBar;\nexports.ResponsiveBarCanvas = ResponsiveBarCanvas;\nexports.BarPropTypes = BarPropTypes;\nexports.BarDefaultProps = BarDefaultProps;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"React__default\");\n$RefreshReg$(_c2, \"BarItem\");\n$RefreshReg$(_c3, \"BarItem$1\");\n$RefreshReg$(_c4, \"Bar\");\n$RefreshReg$(_c5, \"ResponsiveBar\");\n$RefreshReg$(_c6, \"ResponsiveBarCanvas\");","map":{"version":3,"sources":["C:/Users/Lourdes/Documents/MedicalTeachingPassport/pages/index.js"],"names":["Object","defineProperty","exports","value","_interopDefault","ex","d3Scale","require","min","max","range","flattenDepth","d3Shape","React","React__default","PropTypes","compose","withPropsOnChange","pure","core","legends","defaultProps","reactMotion","setDisplayName","getIndexedScale","data","getIndex","range$$1","padding","scaleBand","rangeRound","domain","map","getGroupedScale","keys","_minValue","_maxValue","allValues","reduce","acc","entry","concat","k","maxValue","minValue","scaleLinear","generateVerticalGroupedBars","_ref","reverse","width","height","getColor","_ref$padding","undefined","_ref$innerPadding","innerPadding","xScale","yRange","yScale","barWidth","bandwidth","length","yRef","getY","d","getHeight","y","bars","forEach","key","i","index","x","barData","id","indexValue","push","color","generateHorizontalGroupedBars","_ref2","_ref2$padding","_ref2$innerPadding","xRange","barHeight","xRef","getX","getWidth","generateGroupedBars","options","layout","getStackedScale","generateVerticalStackedBars","stackedData","stack","offset","stackOffsetDiverging","stackedDataItem","generateHorizontalStackedBars","generateStackedBars","classCallCheck","instance","Constructor","TypeError","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","BarItem","borderRadius","borderWidth","borderColor","label","shouldRenderLabel","labelColor","showTooltip","hideTooltip","onClick","tooltip","handleTooltip","e","createElement","transform","rx","ry","fill","strokeWidth","stroke","onMouseEnter","onMouseMove","onMouseLeave","textAnchor","alignmentBaseline","style","pointerEvents","propTypes","shape","string","isRequired","number","oneOfType","bool","tooltipFormat","func","element","theme","enhance","_onClick","event","_ref3","BasicTooltip","enableChip","format","renderContent","bind","BarItem$1","BarPropTypes","arrayOf","object","indexBy","groupMode","oneOf","axisTop","axisRight","axisBottom","axisLeft","enableGridX","enableGridY","barComponent","enableLabel","labelFormat","getLabel","labelSkipWidth","labelSkipHeight","labelTextColor","getLabelTextColor","labelLinkColor","getLabelLinkColor","defsPropTypes","any","getBorderColor","isInteractive","dataFrom","LegendPropShape","pixelRatio","BarDefaultProps","defs","noop","global","window","devicePixelRatio","enhance$1","Component","withTheme","withColors","withDimensions","withMotion","getAccessorFor","getInheritedColorGenerator","_ref4","getLabelGenerator","_ref5","barWillEnterHorizontal","val","barWillEnterVertical","barWillLeaveHorizontal","springConfig","spring","barWillLeaveVertical","Bar","margin","outerWidth","outerHeight","markers","animate","motionStiffness","motionDamping","legends$$1","result","motionProps","damping","stiffness","willEnter","willLeave","_ref6","boundDefs","bindDefs","dataKey","targetKey","legendDataForKeys","filter","bar","legendDataForIndexes","Container","_ref7","commonProps","TransitionMotion","styles","interpolatedStyles","_ref8","baseProps","Math","SvgWrapper","Grid","Axes","top","right","bottom","left","CartesianMarkers","legend","legendData","BoxLegendSvg","containerWidth","containerHeight","Bar$1","findNodeUnderCursor","nodes","find","node","isCursorInRect","BarCanvas","_Component","_temp","_this","_ret","_len","args","Array","_key","apply","handleMouseHover","_this$props","props","_getRelativeCursor","getRelativeCursor","surface","handleMouseLeave","handleClick","_this$props2","_getRelativeCursor2","componentDidMount","ctx","getContext","draw","shouldComponentUpdate","componentDidUpdate","_this2","scale","clearRect","translate","renderAxesToCanvas","fillStyle","fillRect","render","_this3","_props","ref","BarCanvas$1","ResponsiveBar","ResponsiveWrapper","ResponsiveBarCanvas"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, '__esModule', { value: true });\r\n\r\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\r\n\r\nvar d3Scale = require('d3-scale');\r\nvar min = _interopDefault(require('lodash/min'));\r\nvar max = _interopDefault(require('lodash/max'));\r\nvar range = _interopDefault(require('lodash/range'));\r\nvar flattenDepth = _interopDefault(require('lodash/flattenDepth'));\r\nvar d3Shape = require('d3-shape');\r\nvar React = require('react');\r\nvar React__default = _interopDefault(React);\r\nvar PropTypes = _interopDefault(require('prop-types'));\r\nvar compose = _interopDefault(require('recompose/compose'));\r\nvar withPropsOnChange = _interopDefault(require('recompose/withPropsOnChange'));\r\nvar pure = _interopDefault(require('recompose/pure'));\r\nvar core = require('@nivo/core');\r\nvar legends = require('@nivo/legends');\r\nvar defaultProps = _interopDefault(require('recompose/defaultProps'));\r\nvar reactMotion = require('react-motion');\r\nvar setDisplayName = _interopDefault(require('recompose/setDisplayName'));\r\n\r\n/**\r\n * Generates indexed scale.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<number>} range\r\n * @param {number}         padding\r\n * @returns {Function}\r\n */\r\nvar getIndexedScale = function getIndexedScale(data, getIndex, range$$1, padding) {\r\n  return d3Scale.scaleBand().rangeRound(range$$1).domain(data.map(getIndex)).padding(padding);\r\n};\r\n\r\n/**\r\n * Generates scale for grouped bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Array.<string>} keys\r\n * @param {number}         _minValue\r\n * @param {number|string}  _maxValue\r\n * @param {Array.<number>} range\r\n * @returns {Function}\r\n */\r\nvar getGroupedScale = function getGroupedScale(data, keys, _minValue, _maxValue, range$$1) {\r\n    var allValues = data.reduce(function (acc, entry) {\r\n        return [].concat(acc, keys.map(function (k) {\r\n            return entry[k];\r\n        }));\r\n    }, []);\r\n\r\n    var maxValue = _maxValue;\r\n    if (maxValue === 'auto') {\r\n        maxValue = max(allValues);\r\n    }\r\n\r\n    var minValue = _minValue;\r\n    if (minValue === 'auto') {\r\n        minValue = min(allValues);\r\n        if (minValue > 0) minValue = 0;\r\n    }\r\n\r\n    return d3Scale.scaleLinear().rangeRound(range$$1).domain([minValue, maxValue]);\r\n};\r\n\r\n/**\r\n * Generates x/y scales & bars for vertical grouped bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<string>} keys\r\n * @param {number}         minValue\r\n * @param {number}         maxValue\r\n * @param {boolean}        reverse\r\n * @param {number}         width\r\n * @param {number}         height\r\n * @param {Function}       getColor\r\n * @param {number}         [padding=0]\r\n * @param {number}         [innerPadding=0]\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\r\nvar generateVerticalGroupedBars = function generateVerticalGroupedBars(_ref) {\r\n    var data = _ref.data,\r\n        getIndex = _ref.getIndex,\r\n        keys = _ref.keys,\r\n        minValue = _ref.minValue,\r\n        maxValue = _ref.maxValue,\r\n        reverse = _ref.reverse,\r\n        width = _ref.width,\r\n        height = _ref.height,\r\n        getColor = _ref.getColor,\r\n        _ref$padding = _ref.padding,\r\n        padding = _ref$padding === undefined ? 0 : _ref$padding,\r\n        _ref$innerPadding = _ref.innerPadding,\r\n        innerPadding = _ref$innerPadding === undefined ? 0 : _ref$innerPadding;\r\n\r\n    var xScale = getIndexedScale(data, getIndex, [0, width], padding);\r\n    var yRange = reverse ? [0, height] : [height, 0];\r\n    var yScale = getGroupedScale(data, keys, minValue, maxValue, yRange);\r\n\r\n    var barWidth = (xScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\r\n    var yRef = yScale(0);\r\n\r\n    var getY = function getY(d) {\r\n        return d > 0 ? yScale(d) : yRef;\r\n    };\r\n    var getHeight = function getHeight(d, y) {\r\n        return d > 0 ? yRef - y : yScale(d) - yRef;\r\n    };\r\n    if (reverse) {\r\n        getY = function getY(d) {\r\n            return d < 0 ? yScale(d) : yRef;\r\n        };\r\n        getHeight = function getHeight(d, y) {\r\n            return d < 0 ? yRef - y : yScale(d) - yRef;\r\n        };\r\n    }\r\n\r\n    var bars = [];\r\n    if (barWidth > 0) {\r\n        keys.forEach(function (key, i) {\r\n            range(xScale.domain().length).forEach(function (index) {\r\n                var x = xScale(getIndex(data[index])) + barWidth * i + innerPadding * i;\r\n                var y = getY(data[index][key]);\r\n\r\n                if (barWidth > 0) {\r\n                    var barData = {\r\n                        id: key,\r\n                        value: data[index][key],\r\n                        index: index,\r\n                        indexValue: getIndex(data[index]),\r\n                        data: data[index]\r\n                    };\r\n\r\n                    bars.push({\r\n                        key: key + '.' + barData.indexValue,\r\n                        data: barData,\r\n                        x: x,\r\n                        y: y,\r\n                        width: barWidth,\r\n                        height: getHeight(data[index][key], y),\r\n                        color: getColor(barData)\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    return { xScale: xScale, yScale: yScale, bars: bars };\r\n};\r\n\r\n/**\r\n * Generates x/y scales & bars for horizontal grouped bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<string>} keys\r\n * @param {number}         minValue\r\n * @param {number}         maxValue\r\n * @param {boolean}        reverse\r\n * @param {number}         width\r\n * @param {number}         height\r\n * @param {Function}       getColor\r\n * @param {number}         [padding=0]\r\n * @param {number}         [innerPadding=0]\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\r\nvar generateHorizontalGroupedBars = function generateHorizontalGroupedBars(_ref2) {\r\n    var data = _ref2.data,\r\n        getIndex = _ref2.getIndex,\r\n        keys = _ref2.keys,\r\n        minValue = _ref2.minValue,\r\n        maxValue = _ref2.maxValue,\r\n        reverse = _ref2.reverse,\r\n        width = _ref2.width,\r\n        height = _ref2.height,\r\n        getColor = _ref2.getColor,\r\n        _ref2$padding = _ref2.padding,\r\n        padding = _ref2$padding === undefined ? 0 : _ref2$padding,\r\n        _ref2$innerPadding = _ref2.innerPadding,\r\n        innerPadding = _ref2$innerPadding === undefined ? 0 : _ref2$innerPadding;\r\n\r\n    var xRange = reverse ? [width, 0] : [0, width];\r\n    var xScale = getGroupedScale(data, keys, minValue, maxValue, xRange);\r\n    var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\r\n\r\n    var barHeight = (yScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\r\n    var xRef = xScale(0);\r\n\r\n    var getX = function getX(d) {\r\n        return d > 0 ? xRef : xScale(d);\r\n    };\r\n    var getWidth = function getWidth(d, x) {\r\n        return d > 0 ? xScale(d) - xRef : xRef - x;\r\n    };\r\n    if (reverse) {\r\n        getX = function getX(d) {\r\n            return d < 0 ? xRef : xScale(d);\r\n        };\r\n        getWidth = function getWidth(d, x) {\r\n            return d < 0 ? xScale(d) - xRef : xRef - x;\r\n        };\r\n    }\r\n\r\n    var bars = [];\r\n    if (barHeight > 0) {\r\n        keys.forEach(function (key, i) {\r\n            range(yScale.domain().length).forEach(function (index) {\r\n                var x = getX(data[index][key]);\r\n                var y = yScale(getIndex(data[index])) + barHeight * i + innerPadding * i;\r\n                var barWidth = getWidth(data[index][key], x);\r\n\r\n                var barData = {\r\n                    id: key,\r\n                    value: data[index][key],\r\n                    index: index,\r\n                    indexValue: getIndex(data[index]),\r\n                    data: data[index]\r\n                };\r\n\r\n                bars.push({\r\n                    key: key + '.' + barData.indexValue,\r\n                    data: barData,\r\n                    x: x,\r\n                    y: y,\r\n                    width: barWidth,\r\n                    height: barHeight,\r\n                    color: getColor(barData)\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    return { xScale: xScale, yScale: yScale, bars: bars };\r\n};\r\n\r\n/**\r\n * Generates x/y scales & bars for grouped bar chart.\r\n *\r\n * @param {Object} options\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\r\nvar generateGroupedBars = function generateGroupedBars(options) {\r\n    return options.layout === 'vertical' ? generateVerticalGroupedBars(options) : generateHorizontalGroupedBars(options);\r\n};\r\n\r\n/**\r\n * Generates scale for stacked bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {number|string}  _minValue\r\n * @param {number|string}  _maxValue\r\n * @param {Array.<number>} range\r\n * @returns {Function}\r\n */\r\nvar getStackedScale = function getStackedScale(data, _minValue, _maxValue, range$$1) {\r\n    var allValues = flattenDepth(data, 2);\r\n\r\n    var minValue = _minValue;\r\n    if (minValue === 'auto') {\r\n        minValue = min(allValues);\r\n    }\r\n\r\n    var maxValue = _maxValue;\r\n    if (maxValue === 'auto') {\r\n        maxValue = max(allValues);\r\n    }\r\n\r\n    return d3Scale.scaleLinear().rangeRound(range$$1).domain([minValue, maxValue]);\r\n};\r\n\r\n/**\r\n * Generates x/y scales & bars for vertical stacked bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<string>} keys\r\n * @param {number}         minValue\r\n * @param {number}         maxValue\r\n * @param {boolean}        reverse\r\n * @param {number}         width\r\n * @param {number}         height\r\n * @param {Function}       getColor\r\n * @param {number}         [padding=0]\r\n * @param {number}         [innerPadding=0]\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\r\nvar generateVerticalStackedBars = function generateVerticalStackedBars(_ref) {\r\n    var data = _ref.data,\r\n        getIndex = _ref.getIndex,\r\n        keys = _ref.keys,\r\n        minValue = _ref.minValue,\r\n        maxValue = _ref.maxValue,\r\n        reverse = _ref.reverse,\r\n        width = _ref.width,\r\n        height = _ref.height,\r\n        getColor = _ref.getColor,\r\n        _ref$padding = _ref.padding,\r\n        padding = _ref$padding === undefined ? 0 : _ref$padding,\r\n        _ref$innerPadding = _ref.innerPadding,\r\n        innerPadding = _ref$innerPadding === undefined ? 0 : _ref$innerPadding;\r\n\r\n    var stackedData = d3Shape.stack().keys(keys).offset(d3Shape.stackOffsetDiverging)(data);\r\n\r\n    var xScale = getIndexedScale(data, getIndex, [0, width], padding);\r\n    var yRange = reverse ? [0, height] : [height, 0];\r\n    var yScale = getStackedScale(stackedData, minValue, maxValue, yRange);\r\n\r\n    var bars = [];\r\n    var barWidth = xScale.bandwidth();\r\n\r\n    var getY = function getY(d) {\r\n        return yScale(d[1]);\r\n    };\r\n    var getHeight = function getHeight(d, y) {\r\n        return yScale(d[0]) - y;\r\n    };\r\n    if (reverse) {\r\n        getY = function getY(d) {\r\n            return yScale(d[0]);\r\n        };\r\n        getHeight = function getHeight(d, y) {\r\n            return yScale(d[1]) - y;\r\n        };\r\n    }\r\n\r\n    if (barWidth > 0) {\r\n        stackedData.forEach(function (stackedDataItem) {\r\n            xScale.domain().forEach(function (index, i) {\r\n                var d = stackedDataItem[i];\r\n                var x = xScale(getIndex(d.data));\r\n\r\n                var y = getY(d);\r\n                var barHeight = getHeight(d, y);\r\n                if (innerPadding > 0) {\r\n                    y += innerPadding * 0.5;\r\n                    barHeight -= innerPadding;\r\n                }\r\n\r\n                if (barHeight > 0) {\r\n                    var barData = {\r\n                        id: stackedDataItem.key,\r\n                        value: d.data[stackedDataItem.key],\r\n                        index: i,\r\n                        indexValue: index,\r\n                        data: d.data\r\n                    };\r\n\r\n                    bars.push({\r\n                        key: stackedDataItem.key + '.' + index,\r\n                        data: barData,\r\n                        x: x,\r\n                        y: y,\r\n                        width: barWidth,\r\n                        height: barHeight,\r\n                        color: getColor(barData)\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    return { xScale: xScale, yScale: yScale, bars: bars };\r\n};\r\n\r\n/**\r\n * Generates x/y scales & bars for horizontal stacked bar chart.\r\n *\r\n * @param {Array.<Object>} data\r\n * @param {Function}       getIndex\r\n * @param {Array.<string>} keys\r\n * @param {number}         minValue\r\n * @param {number}         maxValue\r\n * @param {boolean}        reverse\r\n * @param {number}         width\r\n * @param {number}         height\r\n * @param {Function}       getColor\r\n * @param {number}         [padding=0]\r\n * @param {number}         [innerPadding=0]\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\r\nvar generateHorizontalStackedBars = function generateHorizontalStackedBars(_ref2) {\r\n    var data = _ref2.data,\r\n        getIndex = _ref2.getIndex,\r\n        keys = _ref2.keys,\r\n        minValue = _ref2.minValue,\r\n        maxValue = _ref2.maxValue,\r\n        reverse = _ref2.reverse,\r\n        width = _ref2.width,\r\n        height = _ref2.height,\r\n        getColor = _ref2.getColor,\r\n        _ref2$padding = _ref2.padding,\r\n        padding = _ref2$padding === undefined ? 0 : _ref2$padding,\r\n        _ref2$innerPadding = _ref2.innerPadding,\r\n        innerPadding = _ref2$innerPadding === undefined ? 0 : _ref2$innerPadding;\r\n\r\n    var stackedData = d3Shape.stack().keys(keys).offset(d3Shape.stackOffsetDiverging)(data);\r\n\r\n    var xRange = reverse ? [width, 0] : [0, width];\r\n    var xScale = getStackedScale(stackedData, minValue, maxValue, xRange);\r\n    var yScale = getIndexedScale(data, getIndex, [height, 0], padding);\r\n\r\n    var bars = [];\r\n    var barHeight = yScale.bandwidth();\r\n\r\n    var getX = function getX(d) {\r\n        return xScale(d[0]);\r\n    };\r\n    var getWidth = function getWidth(d, x) {\r\n        return xScale(d[1]) - x;\r\n    };\r\n    if (reverse) {\r\n        getX = function getX(d) {\r\n            return xScale(d[1]);\r\n        };\r\n        getWidth = function getWidth(d, y) {\r\n            return xScale(d[0]) - y;\r\n        };\r\n    }\r\n\r\n    if (barHeight > 0) {\r\n        stackedData.forEach(function (stackedDataItem) {\r\n            yScale.domain().forEach(function (index, i) {\r\n                var d = stackedDataItem[i];\r\n                var y = yScale(getIndex(d.data));\r\n\r\n                var barData = {\r\n                    id: stackedDataItem.key,\r\n                    value: d.data[stackedDataItem.key],\r\n                    index: i,\r\n                    indexValue: index,\r\n                    data: d.data\r\n                };\r\n\r\n                var x = getX(d);\r\n                var barWidth = getWidth(d, x);\r\n                if (innerPadding > 0) {\r\n                    x += innerPadding * 0.5;\r\n                    barWidth -= innerPadding;\r\n                }\r\n\r\n                if (barWidth > 0) {\r\n                    bars.push({\r\n                        key: stackedDataItem.key + '.' + index,\r\n                        data: barData,\r\n                        x: x,\r\n                        y: y,\r\n                        width: barWidth,\r\n                        height: barHeight,\r\n                        color: getColor(barData)\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    return { xScale: xScale, yScale: yScale, bars: bars };\r\n};\r\n\r\n/**\r\n * Generates x/y scales & bars for stacked bar chart.\r\n *\r\n * @param {Object} options\r\n * @return {{ xScale: Function, yScale: Function, bars: Array.<Object> }}\r\n */\r\nvar generateStackedBars = function generateStackedBars(options) {\r\n    return options.layout === 'vertical' ? generateVerticalStackedBars(options) : generateHorizontalStackedBars(options);\r\n};\r\n\r\nvar classCallCheck = function (instance, Constructor) {\r\n  if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar _extends = Object.assign || function (target) {\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    var source = arguments[i];\r\n\r\n    for (var key in source) {\r\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n        target[key] = source[key];\r\n      }\r\n    }\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\n\r\n\r\nvar inherits = function (subClass, superClass) {\r\n  if (typeof superClass !== \"function\" && superClass !== null) {\r\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\r\n  }\r\n\r\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n    constructor: {\r\n      value: subClass,\r\n      enumerable: false,\r\n      writable: true,\r\n      configurable: true\r\n    }\r\n  });\r\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar possibleConstructorReturn = function (self, call) {\r\n  if (!self) {\r\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\r\n  }\r\n\r\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\r\n};\r\n\r\nvar BarItem = function BarItem(_ref) {\r\n    var data = _ref.data,\r\n        x = _ref.x,\r\n        y = _ref.y,\r\n        width = _ref.width,\r\n        height = _ref.height,\r\n        borderRadius = _ref.borderRadius,\r\n        color = _ref.color,\r\n        borderWidth = _ref.borderWidth,\r\n        borderColor = _ref.borderColor,\r\n        label = _ref.label,\r\n        shouldRenderLabel = _ref.shouldRenderLabel,\r\n        labelColor = _ref.labelColor,\r\n        showTooltip = _ref.showTooltip,\r\n        hideTooltip = _ref.hideTooltip,\r\n        onClick = _ref.onClick,\r\n        tooltip = _ref.tooltip;\r\n\r\n    var handleTooltip = function handleTooltip(e) {\r\n        return showTooltip(tooltip, e);\r\n    };\r\n\r\n    return React__default.createElement(\r\n        'g',\r\n        { transform: 'translate(' + x + ', ' + y + ')' },\r\n        React__default.createElement('rect', {\r\n            width: width,\r\n            height: height,\r\n            rx: borderRadius,\r\n            ry: borderRadius,\r\n            fill: data.fill ? data.fill : color,\r\n            strokeWidth: borderWidth,\r\n            stroke: borderColor,\r\n            onMouseEnter: handleTooltip,\r\n            onMouseMove: handleTooltip,\r\n            onMouseLeave: hideTooltip,\r\n            onClick: onClick\r\n        }),\r\n        shouldRenderLabel && React__default.createElement(\r\n            'text',\r\n            {\r\n                x: width / 2,\r\n                y: height / 2,\r\n                textAnchor: 'middle',\r\n                alignmentBaseline: 'central',\r\n                style: {\r\n                    pointerEvents: 'none',\r\n                    fill: labelColor\r\n                }\r\n            },\r\n            label\r\n        )\r\n    );\r\n};\r\n\r\nBarItem.propTypes = {\r\n    data: PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        value: PropTypes.number.isRequired,\r\n        indexValue: PropTypes.string.isRequired\r\n    }).isRequired,\r\n\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n    width: PropTypes.number.isRequired,\r\n    height: PropTypes.number.isRequired,\r\n    color: PropTypes.string.isRequired,\r\n    borderRadius: PropTypes.number.isRequired,\r\n    borderWidth: PropTypes.number.isRequired,\r\n    borderColor: PropTypes.string.isRequired,\r\n\r\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    shouldRenderLabel: PropTypes.bool.isRequired,\r\n    labelColor: PropTypes.string.isRequired,\r\n\r\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n    showTooltip: PropTypes.func.isRequired,\r\n    hideTooltip: PropTypes.func.isRequired,\r\n    onClick: PropTypes.func,\r\n    tooltip: PropTypes.element.isRequired,\r\n\r\n    theme: PropTypes.shape({\r\n        tooltip: PropTypes.shape({}).isRequired\r\n    }).isRequired\r\n};\r\n\r\nvar enhance = compose(withPropsOnChange(['data', 'color', 'onClick'], function (_ref2) {\r\n    var data = _ref2.data,\r\n        color = _ref2.color,\r\n        _onClick = _ref2.onClick;\r\n    return {\r\n        onClick: function onClick(event) {\r\n            return _onClick(_extends({ color: color }, data), event);\r\n        }\r\n    };\r\n}), withPropsOnChange(['data', 'color', 'theme', 'tooltip', 'tooltipFormat'], function (_ref3) {\r\n    var data = _ref3.data,\r\n        color = _ref3.color,\r\n        theme = _ref3.theme,\r\n        tooltip = _ref3.tooltip,\r\n        tooltipFormat = _ref3.tooltipFormat;\r\n    return {\r\n        tooltip: React__default.createElement(core.BasicTooltip, {\r\n            id: data.id + ' - ' + data.indexValue,\r\n            value: data.value,\r\n            enableChip: true,\r\n            color: color,\r\n            theme: theme,\r\n            format: tooltipFormat,\r\n            renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _extends({ color: color }, data)) : null\r\n        })\r\n    };\r\n}), pure);\r\n\r\nvar BarItem$1 = enhance(BarItem);\r\n\r\nvar BarPropTypes = _extends({\r\n    // data\r\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n    indexBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\r\n    getIndex: PropTypes.func.isRequired, // computed\r\n    keys: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n\r\n    groupMode: PropTypes.oneOf(['stacked', 'grouped']).isRequired,\r\n    layout: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\r\n    reverse: PropTypes.bool.isRequired,\r\n\r\n    minValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\r\n    maxValue: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf(['auto'])]).isRequired,\r\n    padding: PropTypes.number.isRequired,\r\n    innerPadding: PropTypes.number.isRequired,\r\n\r\n    // axes & grid\r\n    axisTop: PropTypes.object,\r\n    axisRight: PropTypes.object,\r\n    axisBottom: PropTypes.object,\r\n    axisLeft: PropTypes.object,\r\n    enableGridX: PropTypes.bool.isRequired,\r\n    enableGridY: PropTypes.bool.isRequired,\r\n\r\n    // customization\r\n    barComponent: PropTypes.func.isRequired,\r\n\r\n    // labels\r\n    enableLabel: PropTypes.bool.isRequired,\r\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\r\n    labelFormat: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\r\n    getLabel: PropTypes.func.isRequired, // computed\r\n    labelSkipWidth: PropTypes.number.isRequired,\r\n    labelSkipHeight: PropTypes.number.isRequired,\r\n    labelTextColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\r\n    getLabelTextColor: PropTypes.func.isRequired, // computed\r\n    labelLinkColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\r\n    getLabelLinkColor: PropTypes.func.isRequired, // computed\r\n\r\n    // styling\r\n    borderRadius: PropTypes.number.isRequired,\r\n    getColor: PropTypes.func.isRequired }, core.defsPropTypes, {\r\n    borderWidth: PropTypes.number.isRequired,\r\n    borderColor: PropTypes.any.isRequired,\r\n    getBorderColor: PropTypes.func.isRequired,\r\n\r\n    // interactivity\r\n    isInteractive: PropTypes.bool,\r\n    onClick: PropTypes.func.isRequired,\r\n    tooltipFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n    tooltip: PropTypes.func,\r\n\r\n    legends: PropTypes.arrayOf(PropTypes.shape(_extends({\r\n        dataFrom: PropTypes.oneOf(['indexes', 'keys']).isRequired\r\n    }, legends.LegendPropShape))).isRequired,\r\n\r\n    // canvas specific\r\n    pixelRatio: PropTypes.number.isRequired\r\n});\r\n\r\nvar BarDefaultProps = {\r\n    indexBy: 'id',\r\n    keys: ['value'],\r\n\r\n    groupMode: 'stacked',\r\n    layout: 'vertical',\r\n    reverse: false,\r\n\r\n    minValue: 'auto',\r\n    maxValue: 'auto',\r\n    padding: 0.1,\r\n    innerPadding: 0,\r\n\r\n    // axes & grid\r\n    axisBottom: {},\r\n    axisLeft: {},\r\n    enableGridX: false,\r\n    enableGridY: true,\r\n\r\n    // customization\r\n    barComponent: BarItem$1,\r\n\r\n    // labels\r\n    enableLabel: true,\r\n    label: 'value',\r\n    labelSkipWidth: 0,\r\n    labelSkipHeight: 0,\r\n    labelLinkColor: 'theme',\r\n    labelTextColor: 'theme',\r\n\r\n    defs: [],\r\n    fill: [],\r\n    borderRadius: 0,\r\n    borderWidth: 0,\r\n    borderColor: 'inherit',\r\n\r\n    // interactivity\r\n    isInteractive: true,\r\n    onClick: core.noop,\r\n\r\n    legends: [],\r\n\r\n    // canvas specific\r\n    pixelRatio: global.window && global.window.devicePixelRatio ? global.window.devicePixelRatio : 1\r\n};\r\n\r\nvar enhance$1 = (function (Component) {\r\n    return compose(defaultProps(BarDefaultProps), core.withTheme(), core.withColors(), core.withDimensions(), core.withMotion(), withPropsOnChange(['indexBy'], function (_ref) {\r\n        var indexBy = _ref.indexBy;\r\n        return {\r\n            getIndex: core.getAccessorFor(indexBy)\r\n        };\r\n    }), withPropsOnChange(['labelTextColor'], function (_ref2) {\r\n        var labelTextColor = _ref2.labelTextColor;\r\n        return {\r\n            getLabelTextColor: core.getInheritedColorGenerator(labelTextColor, 'axis.textColor')\r\n        };\r\n    }), withPropsOnChange(['labelLinkColor'], function (_ref3) {\r\n        var labelLinkColor = _ref3.labelLinkColor;\r\n        return {\r\n            getLabelLinkColor: core.getInheritedColorGenerator(labelLinkColor, 'axis.tickColor')\r\n        };\r\n    }), withPropsOnChange(['label', 'labelFormat'], function (_ref4) {\r\n        var label = _ref4.label,\r\n            labelFormat = _ref4.labelFormat;\r\n        return {\r\n            getLabel: core.getLabelGenerator(label, labelFormat)\r\n        };\r\n    }), withPropsOnChange(['borderColor'], function (_ref5) {\r\n        var borderColor = _ref5.borderColor;\r\n        return {\r\n            getBorderColor: core.getInheritedColorGenerator(borderColor)\r\n        };\r\n    }), pure)(Component);\r\n});\r\n\r\nvar barWillEnterHorizontal = function barWillEnterHorizontal(_ref) {\r\n    var style = _ref.style;\r\n    return {\r\n        x: style.x.val,\r\n        y: style.y.val,\r\n        width: 0,\r\n        height: style.height.val\r\n    };\r\n};\r\n\r\nvar barWillEnterVertical = function barWillEnterVertical(_ref2) {\r\n    var style = _ref2.style;\r\n    return {\r\n        x: style.x.val,\r\n        y: style.y.val + style.height.val,\r\n        width: style.width.val,\r\n        height: 0\r\n    };\r\n};\r\n\r\nvar barWillLeaveHorizontal = function barWillLeaveHorizontal(springConfig) {\r\n    return function (_ref3) {\r\n        var style = _ref3.style;\r\n        return {\r\n            x: style.x,\r\n            y: style.y,\r\n            width: reactMotion.spring(0, springConfig),\r\n            height: style.height\r\n        };\r\n    };\r\n};\r\n\r\nvar barWillLeaveVertical = function barWillLeaveVertical(springConfig) {\r\n    return function (_ref4) {\r\n        var style = _ref4.style;\r\n        return {\r\n            x: style.x,\r\n            y: reactMotion.spring(style.y.val + style.height.val, springConfig),\r\n            width: style.width,\r\n            height: reactMotion.spring(0, springConfig)\r\n        };\r\n    };\r\n};\r\n\r\nvar Bar = function Bar(_ref5) {\r\n    var data = _ref5.data,\r\n        getIndex = _ref5.getIndex,\r\n        keys = _ref5.keys,\r\n        groupMode = _ref5.groupMode,\r\n        layout = _ref5.layout,\r\n        reverse = _ref5.reverse,\r\n        minValue = _ref5.minValue,\r\n        maxValue = _ref5.maxValue,\r\n        margin = _ref5.margin,\r\n        width = _ref5.width,\r\n        height = _ref5.height,\r\n        outerWidth = _ref5.outerWidth,\r\n        outerHeight = _ref5.outerHeight,\r\n        padding = _ref5.padding,\r\n        innerPadding = _ref5.innerPadding,\r\n        axisTop = _ref5.axisTop,\r\n        axisRight = _ref5.axisRight,\r\n        axisBottom = _ref5.axisBottom,\r\n        axisLeft = _ref5.axisLeft,\r\n        enableGridX = _ref5.enableGridX,\r\n        enableGridY = _ref5.enableGridY,\r\n        barComponent = _ref5.barComponent,\r\n        enableLabel = _ref5.enableLabel,\r\n        getLabel = _ref5.getLabel,\r\n        labelSkipWidth = _ref5.labelSkipWidth,\r\n        labelSkipHeight = _ref5.labelSkipHeight,\r\n        getLabelTextColor = _ref5.getLabelTextColor,\r\n        markers = _ref5.markers,\r\n        theme = _ref5.theme,\r\n        getColor = _ref5.getColor,\r\n        defs = _ref5.defs,\r\n        fill = _ref5.fill,\r\n        borderRadius = _ref5.borderRadius,\r\n        borderWidth = _ref5.borderWidth,\r\n        getBorderColor = _ref5.getBorderColor,\r\n        animate = _ref5.animate,\r\n        motionStiffness = _ref5.motionStiffness,\r\n        motionDamping = _ref5.motionDamping,\r\n        isInteractive = _ref5.isInteractive,\r\n        tooltipFormat = _ref5.tooltipFormat,\r\n        tooltip = _ref5.tooltip,\r\n        onClick = _ref5.onClick,\r\n        legends$$1 = _ref5.legends;\r\n\r\n    var options = {\r\n        layout: layout,\r\n        reverse: reverse,\r\n        data: data,\r\n        getIndex: getIndex,\r\n        keys: keys,\r\n        minValue: minValue,\r\n        maxValue: maxValue,\r\n        width: width,\r\n        height: height,\r\n        getColor: getColor,\r\n        padding: padding,\r\n        innerPadding: innerPadding\r\n    };\r\n    var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\r\n\r\n    var motionProps = {\r\n        animate: animate,\r\n        motionDamping: motionDamping,\r\n        motionStiffness: motionStiffness\r\n    };\r\n\r\n    var springConfig = {\r\n        damping: motionDamping,\r\n        stiffness: motionStiffness\r\n    };\r\n\r\n    var willEnter = layout === 'vertical' ? barWillEnterVertical : barWillEnterHorizontal;\r\n    var willLeave = layout === 'vertical' ? barWillLeaveVertical(springConfig) : barWillLeaveHorizontal(springConfig);\r\n\r\n    var shouldRenderLabel = function shouldRenderLabel(_ref6) {\r\n        var width = _ref6.width,\r\n            height = _ref6.height;\r\n\r\n        if (!enableLabel) return false;\r\n        if (labelSkipWidth > 0 && width < labelSkipWidth) return false;\r\n        if (labelSkipHeight > 0 && height < labelSkipHeight) return false;\r\n        return true;\r\n    };\r\n\r\n    var boundDefs = core.bindDefs(defs, result.bars, fill, {\r\n        dataKey: 'data',\r\n        targetKey: 'data.fill'\r\n    });\r\n\r\n    var legendDataForKeys = result.bars.filter(function (bar) {\r\n        return bar.data.index === 0;\r\n    }).map(function (bar) {\r\n        return {\r\n            label: bar.data.id,\r\n            fill: bar.data.fill ? bar.data.fill : bar.color\r\n        };\r\n    }).reverse();\r\n\r\n    var legendDataForIndexes = result.bars.filter(function (bar) {\r\n        return bar.data.id === keys[0];\r\n    }).map(function (bar) {\r\n        return {\r\n            label: bar.data.indexValue,\r\n            fill: bar.data.fill ? bar.data.fill : bar.color\r\n        };\r\n    });\r\n\r\n    result.bars = result.bars.filter(function (bar) {\r\n        return layout === 'vertical' ? bar.height !== 0 : bar.width !== 0;\r\n    });\r\n\r\n    return React__default.createElement(\r\n        core.Container,\r\n        { isInteractive: isInteractive, theme: theme },\r\n        function (_ref7) {\r\n            var showTooltip = _ref7.showTooltip,\r\n                hideTooltip = _ref7.hideTooltip;\r\n\r\n            var commonProps = {\r\n                borderRadius: borderRadius,\r\n                borderWidth: borderWidth,\r\n                enableLabel: enableLabel,\r\n                labelSkipWidth: labelSkipWidth,\r\n                labelSkipHeight: labelSkipHeight,\r\n                showTooltip: showTooltip,\r\n                hideTooltip: hideTooltip,\r\n                onClick: onClick,\r\n                theme: theme,\r\n                tooltipFormat: tooltipFormat,\r\n                tooltip: tooltip\r\n            };\r\n\r\n            var bars = void 0;\r\n            if (animate === true) {\r\n                bars = React__default.createElement(\r\n                    reactMotion.TransitionMotion,\r\n                    {\r\n                        willEnter: willEnter,\r\n                        willLeave: willLeave,\r\n                        styles: result.bars.map(function (bar) {\r\n                            return {\r\n                                key: bar.key,\r\n                                data: bar,\r\n                                style: {\r\n                                    x: reactMotion.spring(bar.x, springConfig),\r\n                                    y: reactMotion.spring(bar.y, springConfig),\r\n                                    width: reactMotion.spring(bar.width, springConfig),\r\n                                    height: reactMotion.spring(bar.height, springConfig)\r\n                                }\r\n                            };\r\n                        })\r\n                    },\r\n                    function (interpolatedStyles) {\r\n                        return React__default.createElement(\r\n                            'g',\r\n                            null,\r\n                            interpolatedStyles.map(function (_ref8) {\r\n                                var key = _ref8.key,\r\n                                    style = _ref8.style,\r\n                                    bar = _ref8.data;\r\n\r\n                                var baseProps = _extends({}, bar, style);\r\n\r\n                                return React__default.createElement(barComponent, _extends({\r\n                                    key: key\r\n                                }, baseProps, commonProps, {\r\n                                    shouldRenderLabel: shouldRenderLabel(baseProps),\r\n                                    width: Math.max(style.width, 0),\r\n                                    height: Math.max(style.height, 0),\r\n                                    label: getLabel(bar.data),\r\n                                    labelColor: getLabelTextColor(baseProps, theme),\r\n                                    borderColor: getBorderColor(baseProps)\r\n                                }));\r\n                            })\r\n                        );\r\n                    }\r\n                );\r\n            } else {\r\n                bars = result.bars.map(function (d) {\r\n                    return React__default.createElement(barComponent, _extends({\r\n                        key: d.key\r\n                    }, d, commonProps, {\r\n                        label: getLabel(d.data),\r\n                        shouldRenderLabel: shouldRenderLabel(d),\r\n                        labelColor: getLabelTextColor(d, theme),\r\n                        borderColor: getBorderColor(d)\r\n                    }));\r\n                });\r\n            }\r\n\r\n            return React__default.createElement(\r\n                core.SvgWrapper,\r\n                {\r\n                    width: outerWidth,\r\n                    height: outerHeight,\r\n                    margin: margin,\r\n                    defs: boundDefs\r\n                },\r\n                React__default.createElement(core.Grid, _extends({\r\n                    theme: theme,\r\n                    width: width,\r\n                    height: height,\r\n                    xScale: enableGridX ? result.xScale : null,\r\n                    yScale: enableGridY ? result.yScale : null\r\n                }, motionProps)),\r\n                React__default.createElement(core.Axes, _extends({\r\n                    xScale: result.xScale,\r\n                    yScale: result.yScale,\r\n                    width: width,\r\n                    height: height,\r\n                    theme: theme,\r\n                    top: axisTop,\r\n                    right: axisRight,\r\n                    bottom: axisBottom,\r\n                    left: axisLeft\r\n                }, motionProps)),\r\n                bars,\r\n                React__default.createElement(core.CartesianMarkers, {\r\n                    markers: markers,\r\n                    width: width,\r\n                    height: height,\r\n                    xScale: result.xScale,\r\n                    yScale: result.yScale,\r\n                    theme: theme\r\n                }),\r\n                legends$$1.map(function (legend, i) {\r\n                    var legendData = void 0;\r\n                    if (legend.dataFrom === 'keys') {\r\n                        legendData = legendDataForKeys;\r\n                    } else if (legend.dataFrom === 'indexes') {\r\n                        legendData = legendDataForIndexes;\r\n                    }\r\n\r\n                    if (legendData === undefined) return null;\r\n\r\n                    return React__default.createElement(legends.BoxLegendSvg, _extends({\r\n                        key: i\r\n                    }, legend, {\r\n                        containerWidth: width,\r\n                        containerHeight: height,\r\n                        data: legendData\r\n                    }));\r\n                })\r\n            );\r\n        }\r\n    );\r\n};\r\n\r\nBar.propTypes = BarPropTypes;\r\n\r\nvar Bar$1 = setDisplayName('Bar')(enhance$1(Bar));\r\n\r\nvar findNodeUnderCursor = function findNodeUnderCursor(nodes, margin, x, y) {\r\n    return nodes.find(function (node) {\r\n        return core.isCursorInRect(node.x + margin.left, node.y + margin.top, node.width, node.height, x, y);\r\n    });\r\n};\r\n\r\nvar BarCanvas = function (_Component) {\r\n    inherits(BarCanvas, _Component);\r\n\r\n    function BarCanvas() {\r\n        var _temp, _this, _ret;\r\n\r\n        classCallCheck(this, BarCanvas);\r\n\r\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n            args[_key] = arguments[_key];\r\n        }\r\n\r\n        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.handleMouseHover = function (showTooltip, hideTooltip) {\r\n            return function (event) {\r\n                if (!_this.bars) return;\r\n\r\n                var _this$props = _this.props,\r\n                    margin = _this$props.margin,\r\n                    theme = _this$props.theme,\r\n                    tooltip = _this$props.tooltip;\r\n\r\n                var _getRelativeCursor = core.getRelativeCursor(_this.surface, event),\r\n                    x = _getRelativeCursor[0],\r\n                    y = _getRelativeCursor[1];\r\n\r\n                var bar = findNodeUnderCursor(_this.bars, margin, x, y);\r\n\r\n                if (bar !== undefined) {\r\n                    showTooltip(React__default.createElement(core.BasicTooltip, {\r\n                        id: bar.data.id + ' - ' + bar.data.indexValue,\r\n                        value: bar.data.value,\r\n                        enableChip: true,\r\n                        color: bar.color,\r\n                        theme: theme,\r\n                        renderContent: typeof tooltip === 'function' ? tooltip.bind(null, _extends({ color: bar.color }, bar.data)) : null\r\n                    }), event);\r\n                } else {\r\n                    hideTooltip();\r\n                }\r\n            };\r\n        }, _this.handleMouseLeave = function (hideTooltip) {\r\n            return function () {\r\n                hideTooltip();\r\n            };\r\n        }, _this.handleClick = function (event) {\r\n            if (!_this.bars) return;\r\n\r\n            var _this$props2 = _this.props,\r\n                margin = _this$props2.margin,\r\n                onClick = _this$props2.onClick;\r\n\r\n            var _getRelativeCursor2 = core.getRelativeCursor(_this.surface, event),\r\n                x = _getRelativeCursor2[0],\r\n                y = _getRelativeCursor2[1];\r\n\r\n            var node = findNodeUnderCursor(_this.bars, margin, x, y);\r\n            if (node !== undefined) onClick(node.data, event);\r\n        }, _temp), possibleConstructorReturn(_this, _ret);\r\n    }\r\n\r\n    BarCanvas.prototype.componentDidMount = function componentDidMount() {\r\n        this.ctx = this.surface.getContext('2d');\r\n        this.draw(this.props);\r\n    };\r\n\r\n    BarCanvas.prototype.shouldComponentUpdate = function shouldComponentUpdate(props) {\r\n        if (this.props.outerWidth !== props.outerWidth || this.props.outerHeight !== props.outerHeight || this.props.isInteractive !== props.isInteractive || this.props.theme !== props.theme) {\r\n            return true;\r\n        } else {\r\n            this.draw(props);\r\n            return false;\r\n        }\r\n    };\r\n\r\n    BarCanvas.prototype.componentDidUpdate = function componentDidUpdate() {\r\n        this.ctx = this.surface.getContext('2d');\r\n        this.draw(this.props);\r\n    };\r\n\r\n    BarCanvas.prototype.draw = function draw(props) {\r\n        var _this2 = this;\r\n\r\n        var data = props.data,\r\n            keys = props.keys,\r\n            getIndex = props.getIndex,\r\n            minValue = props.minValue,\r\n            maxValue = props.maxValue,\r\n            width = props.width,\r\n            height = props.height,\r\n            outerWidth = props.outerWidth,\r\n            outerHeight = props.outerHeight,\r\n            pixelRatio = props.pixelRatio,\r\n            margin = props.margin,\r\n            layout = props.layout,\r\n            reverse = props.reverse,\r\n            groupMode = props.groupMode,\r\n            padding = props.padding,\r\n            innerPadding = props.innerPadding,\r\n            axisTop = props.axisTop,\r\n            axisRight = props.axisRight,\r\n            axisBottom = props.axisBottom,\r\n            axisLeft = props.axisLeft,\r\n            getColor = props.getColor;\r\n\r\n\r\n        this.surface.width = outerWidth * pixelRatio;\r\n        this.surface.height = outerHeight * pixelRatio;\r\n\r\n        this.ctx.scale(pixelRatio, pixelRatio);\r\n\r\n        var options = {\r\n            layout: layout,\r\n            reverse: reverse,\r\n            data: data,\r\n            getIndex: getIndex,\r\n            keys: keys,\r\n            minValue: minValue,\r\n            maxValue: maxValue,\r\n            width: width,\r\n            height: height,\r\n            getColor: getColor,\r\n            padding: padding,\r\n            innerPadding: innerPadding\r\n        };\r\n\r\n        var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\r\n\r\n        this.bars = result.bars;\r\n\r\n        this.ctx.clearRect(0, 0, outerWidth, outerHeight);\r\n        this.ctx.translate(margin.left, margin.top);\r\n\r\n        core.renderAxesToCanvas(this.ctx, {\r\n            xScale: result.xScale,\r\n            yScale: result.yScale,\r\n            width: width,\r\n            height: height,\r\n            top: axisTop,\r\n            right: axisRight,\r\n            bottom: axisBottom,\r\n            left: axisLeft\r\n        });\r\n\r\n        result.bars.filter(function (bar) {\r\n            return layout === 'vertical' ? bar.height !== 0 : bar.width !== 0;\r\n        }).forEach(function (_ref) {\r\n            var x = _ref.x,\r\n                y = _ref.y,\r\n                color = _ref.color,\r\n                width = _ref.width,\r\n                height = _ref.height;\r\n\r\n            _this2.ctx.fillStyle = color;\r\n            _this2.ctx.fillRect(x, y, width, height);\r\n        });\r\n    };\r\n\r\n    BarCanvas.prototype.render = function render() {\r\n        var _this3 = this;\r\n\r\n        var _props = this.props,\r\n            outerWidth = _props.outerWidth,\r\n            outerHeight = _props.outerHeight,\r\n            pixelRatio = _props.pixelRatio,\r\n            isInteractive = _props.isInteractive,\r\n            theme = _props.theme;\r\n\r\n\r\n        return React__default.createElement(\r\n            core.Container,\r\n            { isInteractive: isInteractive, theme: theme },\r\n            function (_ref2) {\r\n                var showTooltip = _ref2.showTooltip,\r\n                    hideTooltip = _ref2.hideTooltip;\r\n                return React__default.createElement('canvas', {\r\n                    ref: function ref(surface) {\r\n                        _this3.surface = surface;\r\n                    },\r\n                    width: outerWidth * pixelRatio,\r\n                    height: outerHeight * pixelRatio,\r\n                    style: {\r\n                        width: outerWidth,\r\n                        height: outerHeight\r\n                    },\r\n                    onMouseEnter: _this3.handleMouseHover(showTooltip, hideTooltip),\r\n                    onMouseMove: _this3.handleMouseHover(showTooltip, hideTooltip),\r\n                    onMouseLeave: _this3.handleMouseLeave(hideTooltip),\r\n                    onClick: _this3.handleClick\r\n                });\r\n            }\r\n        );\r\n    };\r\n\r\n    return BarCanvas;\r\n}(React.Component);\r\n\r\nBarCanvas.propTypes = BarPropTypes;\r\n\r\nvar BarCanvas$1 = setDisplayName('BarCanvas')(enhance$1(BarCanvas));\r\n\r\nvar ResponsiveBar = function ResponsiveBar(props) {\r\n    return React__default.createElement(\r\n        core.ResponsiveWrapper,\r\n        null,\r\n        function (_ref) {\r\n            var width = _ref.width,\r\n                height = _ref.height;\r\n            return React__default.createElement(Bar$1, _extends({ width: width, height: height }, props));\r\n        }\r\n    );\r\n};\r\n\r\nvar ResponsiveBarCanvas = function ResponsiveBarCanvas(props) {\r\n    return React__default.createElement(\r\n        core.ResponsiveWrapper,\r\n        null,\r\n        function (_ref) {\r\n            var width = _ref.width,\r\n                height = _ref.height;\r\n            return React__default.createElement(BarCanvas$1, _extends({ width: width, height: height }, props));\r\n        }\r\n    );\r\n};\r\n\r\nexports.Bar = Bar$1;\r\nexports.BarCanvas = BarCanvas$1;\r\nexports.ResponsiveBar = ResponsiveBar;\r\nexports.ResponsiveBarCanvas = ResponsiveBarCanvas;\r\nexports.BarPropTypes = BarPropTypes;\r\nexports.BarDefaultProps = BarDefaultProps;"]},"metadata":{},"sourceType":"script"}